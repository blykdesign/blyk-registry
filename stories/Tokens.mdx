import { Meta } from '@storybook/addon-docs/blocks'
import {
  ColorPairCard,
  ColorSwatch,
  TokenGrid,
  RadiusPreview,
  FontPreview,
  SpacingScale,
  TokenDivider,
} from './token-display'

<Meta title="Tokens" />

# Design Tokens

blyk uses **CSS variables** as design tokens, following the [shadcn/ui theming](https://ui.shadcn.com/docs/theming) convention. All tokens are defined in `registry/base/tokens/` and mapped to Tailwind CSS via the `@theme inline` block.

Tokens are the single source of truth for colors, typography, radius, and spacing across the entire design system. When you switch themes or toggle dark mode, every component updates automatically.

<TokenDivider />

## Convention

Colors follow a **background / foreground** pairing. Each semantic color has two variables: one for the background and one for text on that background. This ensures consistent contrast across all components.

<div style={{ display: "flex", gap: "0.75rem", margin: "1.5rem 0" }}>
  {[
    { bg: "--primary", fg: "--primary-foreground", label: "primary" },
    { bg: "--secondary", fg: "--secondary-foreground", label: "secondary" },
    { bg: "--destructive", fg: "--destructive-foreground", label: "destructive" },
  ].map((item) => (
    <div
      key={item.label}
      style={{
        flex: 1,
        backgroundColor: `hsl(var(${item.bg}))`,
        color: `hsl(var(${item.fg}))`,
        padding: "1.25rem 1rem",
        borderRadius: "var(--radius)",
        textAlign: "center",
        fontFamily: "var(--font-mono)",
      }}
    >
      <div style={{ fontWeight: 600, fontSize: "0.8125rem", marginBottom: "0.25rem" }}>
        bg-{item.label}
      </div>
      <div style={{ fontSize: "0.75rem", opacity: 0.75 }}>
        text-{item.label}-foreground
      </div>
    </div>
  ))}
</div>

```css
--primary: 0 0% 9%;            /* Background */
--primary-foreground: 0 0% 98%; /* Text on primary background */
```

Use `bg-primary text-primary-foreground` in Tailwind for consistent contrast.

<TokenDivider />

## Colors

### Semantic Colors

The core color palette for actions, states, and interactive elements.

<TokenGrid columns={3}>
  <ColorPairCard
    bgVar="--primary"
    fgVar="--primary-foreground"
    label="primary"
    description="Primary actions, buttons"
  />
  <ColorPairCard
    bgVar="--secondary"
    fgVar="--secondary-foreground"
    label="secondary"
    description="Secondary actions"
  />
  <ColorPairCard
    bgVar="--muted"
    fgVar="--muted-foreground"
    label="muted"
    description="Muted backgrounds, subdued text"
  />
  <ColorPairCard
    bgVar="--accent"
    fgVar="--accent-foreground"
    label="accent"
    description="Hover states, highlights"
  />
  <ColorPairCard
    bgVar="--destructive"
    fgVar="--destructive-foreground"
    label="destructive"
    description="Error, danger, delete"
  />
  <ColorPairCard
    bgVar="--background"
    fgVar="--foreground"
    label="background"
    description="Page background, default text"
  />
</TokenGrid>

### Surface Colors

Background colors for elevated containers like cards and popovers.

<TokenGrid columns={2}>
  <ColorPairCard
    bgVar="--card"
    fgVar="--card-foreground"
    label="card"
    description="Card backgrounds"
  />
  <ColorPairCard
    bgVar="--popover"
    fgVar="--popover-foreground"
    label="popover"
    description="Popover, dropdown backgrounds"
  />
</TokenGrid>

### Border & Input

Utility colors for borders, input fields, and focus indicators.

<TokenGrid columns={3}>
  <ColorSwatch cssVar="--border" description="Default borders" />
  <ColorSwatch cssVar="--input" description="Input field borders" />
  <ColorSwatch cssVar="--ring" description="Focus rings" />
</TokenGrid>

### Chart Colors

A palette of five colors for data visualizations.

<TokenGrid columns={5}>
  <ColorSwatch cssVar="--chart-1" description="Chart 1" />
  <ColorSwatch cssVar="--chart-2" description="Chart 2" />
  <ColorSwatch cssVar="--chart-3" description="Chart 3" />
  <ColorSwatch cssVar="--chart-4" description="Chart 4" />
  <ColorSwatch cssVar="--chart-5" description="Chart 5" />
</TokenGrid>

### Sidebar Colors

Dedicated color tokens for the sidebar component.

<TokenGrid columns={3}>
  <ColorPairCard
    bgVar="--sidebar-background"
    fgVar="--sidebar-foreground"
    label="sidebar"
    description="Sidebar base"
  />
  <ColorPairCard
    bgVar="--sidebar-primary"
    fgVar="--sidebar-primary-foreground"
    label="sidebar-primary"
    description="Active sidebar items"
  />
  <ColorPairCard
    bgVar="--sidebar-accent"
    fgVar="--sidebar-accent-foreground"
    label="sidebar-accent"
    description="Hover states in sidebar"
  />
</TokenGrid>

<TokenGrid columns={2}>
  <ColorSwatch cssVar="--sidebar-border" description="Sidebar borders" />
  <ColorSwatch cssVar="--sidebar-ring" description="Sidebar focus rings" />
</TokenGrid>

<TokenDivider />

## Radius

Border radius tokens are derived from a single base `--radius` value. This makes it easy to adjust the overall roundness of the system.

<TokenGrid columns={5}>
  <RadiusPreview
    name="--radius-sm"
    cssValue="calc(var(--radius) - 4px)"
    resolvedValue="Small elements"
  />
  <RadiusPreview
    name="--radius-md"
    cssValue="calc(var(--radius) - 2px)"
    resolvedValue="Medium elements"
  />
  <RadiusPreview
    name="--radius-lg"
    cssValue="var(--radius)"
    resolvedValue="Large elements (base)"
  />
  <RadiusPreview
    name="--radius-xl"
    cssValue="calc(var(--radius) + 4px)"
    resolvedValue="Extra large elements"
  />
  <RadiusPreview
    name="--radius"
    cssValue="0.5rem"
    resolvedValue="Base value (8px)"
  />
</TokenGrid>

<TokenDivider />

## Typography

Font family tokens define the typefaces used across the design system.

<FontPreview
  cssVar="--font-sans"
  value={'"Inter", ui-sans-serif, system-ui, sans-serif'}
/>

<FontPreview
  cssVar="--font-mono"
  value={'"JetBrains Mono", ui-monospace, monospace'}
  specimen="const design = { tokens: true }"
/>

<FontPreview
  cssVar="--font-heading"
  value="var(--font-sans)"
  specimen="Design System Tokens"
/>

<TokenDivider />

## Spacing

Spacing is based on a `--spacing-unit` of **0.25rem** (4px). Tailwind utility classes use multiples of this unit for consistent spacing throughout the system.

<SpacingScale />

<TokenDivider />

## Dark Mode

Dark mode is activated by adding the `dark` class to the root element. All color tokens automatically switch to their dark-mode values.

```html
<html class="dark">
```

> **Tip:** Use the **Mode** toggle in the Storybook toolbar above to preview all tokens in dark mode. Every color swatch on this page updates in real time.

<TokenDivider />

## Custom Themes

To create a custom theme, override the CSS variables using a `data-theme` attribute:

```css
[data-theme="custom"] {
  --primary: 220 90% 56%;
  --primary-foreground: 0 0% 100%;
  /* ... override other tokens as needed */
}

[data-theme="custom"].dark {
  --primary: 220 80% 65%;
  --primary-foreground: 220 20% 10%;
  /* ... dark mode overrides */
}
```

The blyk registry supports multiple themes. Each theme lives in its own directory under `registry/` with token overrides. Use the **Theme** toggle in the Storybook toolbar to switch between available themes:

- **blyk-base** — tema neutro padrão
- **DF Imóveis** — tema para plataforma imobiliária (azul marinho)
- **BIUD Sebrae** — tema para projeto Sebrae (azul #1B50E2, Figtree)

See `registry/base/tokens/` for the complete base token definitions. For theme-specific documentation, see **DF Imóveis** or **BIUD Sebrae** in the sidebar.
